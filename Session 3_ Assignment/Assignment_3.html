/*
Check whether the value entered in email input field is valid, 
on pressing submit button and show the error below email field.

*/

<html>
    <head>
        <title>HTML Form</title>
    </head>
<body>
​
<h2>HTML Forms</h2>
​
<form >
  <label for="fname">First name:</label><br>
  <input type="text" id="fname" name="fname" value=""><br><br>
  <label for="lname">Last name:</label><br>
  <input type="text" id="lname" name="lname" value="">
  <br><br>
  <label for="lname">Email:</label><br>
  <input type="text" id="email" name="email" value=""><br>
  <div id="email-error" style="color:red; font-size: 12px;">
  </div>
  <br><br><br>
  <input id="validate" type="submit" value="Submit">
</form>
</body>

<script>
  const element = document.getElementById('validate');
  element.addEventListener("click", function(x){
    const regex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/g;
    const input= document.getElementById('email').value;
    const validity = regex.test(input);
    if (!validity){
      x.preventDefault();
      document.getElementById("email-error").innerHTML="Invalid email";
    }
  });
  
</script>

</html>